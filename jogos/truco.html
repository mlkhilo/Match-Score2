<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Truco Match Score</title>
  <link rel="icon" href="/imagens/loguinho.png" type="image/png">
  <style>
    :root {
      --primary: #e81cff;
      --secondary: #40c9ff;
      --dark: #111;
      --green: #00bf63;
      --red: #ff3860;
      --yellow: #ffdd57;
    }
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    body {
      font-family: Arial, sans-serif;
      background: var(--dark);
      color: white;
      height: 100vh;
      display: flex;
      flex-direction: column;
      padding: 10px;
    }
    .container {
      max-width: 1000px;
      margin: 0 auto;
      width: 100%;
      flex: 1;
      display: flex;
      flex-direction: column;
    }
    header {
      text-align: center;
      margin-bottom: 10px;
    }
    h1 {
      color: var(--secondary);
      font-size: 1.5rem;
    }
    .configuracoes {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin-bottom: 10px;
      flex-wrap: wrap;
    }
    .config-item {
      display: flex;
      align-items: center;
      gap: 5px;
    }
    select, button {
      padding: 5px 10px;
      border-radius: 5px;
      border: none;
    }
    .placar {
      display: flex;
      justify-content: space-around;
      margin: 10px 0;
      font-size: 1rem;
      background: rgba(0,0,0,0.3);
      padding: 8px;
      border-radius: 8px;
    }
    .area-jogo {
      display: flex;
      flex-direction: column;
      flex: 1;
      position: relative;
    }
    .jogador {
      position: absolute;
      width: 100%;
    }
    .jogador-ia {
      top: 0;
    }
    .jogador-humano {
      bottom: 0;
    }
    .cartas-jogadas {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      display: flex;
      gap: 10px;
      z-index: 10;
    }
    .mao {
      display: flex;
      justify-content: center;
      gap: 5px;
      padding: 10px;
      flex-wrap: wrap;
    }
    .carta {
      width: 60px;
      height: 90px;
      background: white;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.2rem;
      color: black;
      cursor: pointer;
      transition: all 0.2s;
      position: relative;
      user-select: none;
    }
    .carta-virada {
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      color: white;
    }
    .carta:hover {
      transform: translateY(-10px);
      box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    }
    .carta.manilha {
      border: 2px solid var(--primary);
    }
    .carta.selecionada {
      border: 3px solid var(--yellow);
      transform: translateY(-15px);
    }
    .carta-jogada {
      margin-top: 0;
    }
    .acoes {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin: 10px 0;
      flex-wrap: wrap;
    }
    .btn-acao {
      background: var(--secondary);
      border: none;
      padding: 8px 15px;
      border-radius: 8px;
      margin: 5px;
      cursor: pointer;
      font-weight: bold;
      transition: all 0.2s;
      min-width: 80px;
    }
    .btn-acao:hover {
      background: var(--primary);
    }
    .btn-acao:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }
    .btn-truco {
      background: var(--red);
    }
    .btn-envido {
      background: var(--green);
    }
    .log-container {
      background: rgba(0,0,0,0.3);
      border-radius: 8px;
      padding: 10px;
      max-height: 100px;
      overflow-y: auto;
      margin-top: auto;
    }
    .log {
      font-size: 0.9rem;
    }
    .log-entry {
      margin-bottom: 3px;
    }
    .nome-jogador {
      font-weight: bold;
      margin-bottom: 5px;
    }
    @keyframes cardPlay {
      0% { transform: scale(1); }
      50% { transform: scale(1.1); }
      100% { transform: scale(1); }
    }
    .carta-jogando {
      animation: cardPlay 0.5s;
    }
    .carta-valor {
      position: absolute;
      font-size: 0.8rem;
      bottom: 2px;
      right: 2px;
    }
    .dificuldade-tag {
      position: absolute;
      top: 5px;
      right: 5px;
      background: var(--primary);
      padding: 2px 5px;
      border-radius: 10px;
      font-size: 0.7rem;
    }

    @media (min-width: 768px) {
      h1 {
        font-size: 2rem;
      }
      .placar {
        font-size: 1.2rem;
      }
      .carta {
        width: 80px;
        height: 120px;
        font-size: 1.5rem;
      }
      .configuracoes {
        margin-bottom: 20px;
      }
    }

    @media (max-width: 480px) {
      .carta {
        width: 50px;
        height: 75px;
        font-size: 1rem;
      }
      .btn-acao {
        padding: 6px 10px;
        font-size: 0.8rem;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>TRUCO COMPLETO</h1>
      <div class="configuracoes">
        <div class="config-item">
          <label for="dificuldade">Dificuldade:</label>
          <select id="dificuldade">
            <option value="facil">Fácil</option>
            <option value="medio" selected>Médio</option>
            <option value="dificil">Difícil</option>
          </select>
        </div>
        <button id="btn-novo-jogo" class="btn-acao">Novo Jogo</button>
      </div>
      <div class="placar">
        <div>Você: <span id="pontos-jogador">0</span></div>
        <div>Rodada: <span id="rodada-atual">1</span>/3</div>
        <div>Computador: <span id="pontos-ia">0</span></div>
      </div>
    </header>

    <div class="area-jogo">
      <!-- IA (topo) -->
      <div class="jogador jogador-ia">
        <div class="nome-jogador">Computador</div>
        <div class="mao" id="mao-ia"></div>
      </div>

      <!-- Cartas jogadas (meio) -->
      <div class="cartas-jogadas">
        <div id="carta-ia-jogada"></div>
        <div id="carta-jogador-jogada"></div>
      </div>

      <!-- Jogador (fundo) -->
      <div class="jogador jogador-humano">
        <div class="nome-jogador">Você</div>
        <div class="mao" id="mao-jogador"></div>
      </div>
    </div>

    <div class="acoes">
      <button id="btn-envido" class="btn-acao btn-envido" onclick="pedirEnvido()">Envido (2)</button>
      <button id="btn-truco" class="btn-acao btn-truco" onclick="pedirTruco()">Truco (2)</button>
      <button id="btn-aceitar" class="btn-acao" onclick="responderTruco(true)">Aceitar</button>
      <button id="btn-rejeitar" class="btn-acao" onclick="responderTruco(false)">Rejeitar</button>
      <button id="btn-jogar" class="btn-acao" onclick="jogarCartaSelecionada()">Jogar Carta</button>
    </div>

    <div class="log-container">
      <div class="log" id="log"></div>
    </div>
  </div>

  <script>
    // ========== CONSTANTES ==========
    const VALORES = ['4', '5', '6', '7', 'Q', 'J', 'K', 'A', '2', '3'];
    const NAIPES = ['♠', '♥', '♦', '♣'];
    const PESOS = {
      '4': 0, '5': 1, '6': 2, '7': 3, 'Q': 4,
      'J': 5, 'K': 6, 'A': 7, '2': 8, '3': 9
    };
    const PONTOS_ENVIDO = {
      '4': 4, '5': 5, '6': 6, '7': 7, 'Q': 0,
      'J': 0, 'K': 0, 'A': 1, '2': 2, '3': 3
    };

    // ========== VARIÁVEIS DO JOGO ==========
    let baralho = [];
    let manilha = '';
    let maoJogador = [];
    let maoIA = [];
    let cartaJogador = null;
    let cartaIA = null;
    let pontosJogador = 0;
    let pontosIA = 0;
    let rodada = 1;
    let trucoAtivo = false;
    let envidoAtivo = false;
    let valorTruco = 2;
    let valorEnvido = 2;
    let cartaSelecionada = null;
    let dificuldade = 'medio';
    let jogadorPediuEnvido = false;
    let iaPediuEnvido = false;

    // ========== INICIALIZAÇÃO ==========
    document.addEventListener('DOMContentLoaded', () => {
      // Configura eventos
      document.getElementById('dificuldade').addEventListener('change', (e) => {
        dificuldade = e.target.value;
      });
      
      document.getElementById('btn-novo-jogo').addEventListener('click', iniciarJogo);
      
      iniciarJogo();
    });

    function iniciarJogo() {
      // Resetar estado
      pontosJogador = 0;
      pontosIA = 0;
      rodada = 1;
      trucoAtivo = false;
      envidoAtivo = false;
      valorTruco = 2;
      valorEnvido = 2;
      jogadorPediuEnvido = false;
      iaPediuEnvido = false;
      
      atualizarPlacar();
      limparLog();
      
      // Criar e embaralhar baralho
      baralho = criarBaralho();
      embaralhar(baralho);
      
      // Definir manilha (última carta do baralho)
      manilha = baralho[baralho.length - 1];
      adicionarLog(`Manilha: ${manilha} (${manilha[0]})`);
      
      // Distribuir cartas
      maoJogador = baralho.splice(0, 3);
      maoIA = baralho.splice(0, 3);
      
      // Mostrar cartas
      mostrarMaoJogador();
      mostrarMaoIA();
      
      // Resetar cartas jogadas
      document.getElementById('carta-ia-jogada').innerHTML = '';
      document.getElementById('carta-jogador-jogada').innerHTML = '';
      cartaJogador = null;
      cartaIA = null;
      
      // Habilitar/desabilitar botões
      document.getElementById('btn-truco').disabled = false;
      document.getElementById('btn-envido').disabled = false;
      document.getElementById('btn-aceitar').disabled = true;
      document.getElementById('btn-rejeitar').disabled = true;
      document.getElementById('btn-jogar').disabled = true;
      
      adicionarLog("Novo jogo iniciado! Sua vez.");
      
      // IA pode pedir envido primeiro (30% de chance)
      if (Math.random() < 0.3) {
        setTimeout(() => {
          iaPedirEnvido();
        }, 1000);
      }
    }

    // ========== LÓGICA DO JOGO ==========
    function criarBaralho() {
      const baralho = [];
      for (const valor of VALORES) {
        for (const naipe of NAIPES) {
          baralho.push(valor + naipe);
        }
      }
      return baralho;
    }

    function embaralhar(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }

    function calcularForcaCarta(carta) {
      const valor = carta[0];
      const naipe = carta[1];
      const valorManilha = manilha[0];
      const naipeManilha = manilha[1];
      
      // Verifica se é manilha
      if (valor === valorManilha) {
        // Ordem das manilhas: ♠ > ♥ > ♦ > ♣
        const ordemManilhas = ['♣', '♦', '♥', '♠'];
        return 100 + ordemManilhas.indexOf(naipe);
      }
      
      return PESOS[valor];
    }

    function jogarCarta(jogador, cartaIdx) {
      if (jogador === 'jogador') {
        if (cartaIdx < 0 || cartaIdx >= maoJogador.length) return;
        
        cartaJogador = maoJogador.splice(cartaIdx, 1)[0];
        mostrarCartaJogada('jogador', cartaJogador);
        mostrarMaoJogador();
        
        // IA joga em resposta
        setTimeout(() => {
          jogarCartaIA();
          verificarRodada();
        }, 1000);
      } else if (jogador === 'ia') {
        if (cartaIdx < 0 || cartaIdx >= maoIA.length) return;
        
        cartaIA = maoIA.splice(cartaIdx, 1)[0];
        mostrarCartaJogada('ia', cartaIA);
        mostrarMaoIA();
      }
    }

    function jogarCartaIA() {
      // Lógica da IA baseada na dificuldade
      let cartaIdx;
      const forcaJogador = cartaJogador ? calcularForcaCarta(cartaJogador) : 0;
      
      if (dificuldade === 'facil') {
        // IA fácil: joga aleatório ou a pior carta
        cartaIdx = Math.random() < 0.5 ? 
          Math.floor(Math.random() * maoIA.length) : 
          maoIA.length - 1;
      } else if (dificuldade === 'medio') {
        // IA média: tenta ganhar a rodada se possível
        const cartaVencedora = maoIA.findIndex(c => calcularForcaCarta(c) > forcaJogador);
        cartaIdx = cartaVencedora !== -1 ? cartaVencedora : maoIA.length - 1;
      } else {
        // IA difícil: estratégia avançada
        // 1. Se for primeira rodada e tiver manilha, guarda
        if (rodada === 1 && maoIA.some(c => c[0] === manilha[0])) {
          const naoManilhas = maoIA.filter(c => c[0] !== manilha[0]);
          cartaIdx = maoIA.indexOf(naoManilhas[naoManilhas.length - 1]);
        } 
        // 2. Se puder ganhar com carta baixa, faz isso
        else {
          const cartaVencedora = maoIA.findIndex(c => 
            calcularForcaCarta(c) > forcaJogador && 
            calcularForcaCarta(c) < 100
          );
          cartaIdx = cartaVencedora !== -1 ? cartaVencedora : maoIA.length - 1;
        }
      }
      
      jogarCarta('ia', cartaIdx);
    }

    function verificarRodada() {
      if (!cartaJogador || !cartaIA) return;
      
      const forcaJogador = calcularForcaCarta(cartaJogador);
      const forcaIA = calcularForcaCarta(cartaIA);
      
      if (forcaJogador > forcaIA) {
        pontosJogador++;
        adicionarLog("Você ganhou a rodada!");
      } else if (forcaIA > forcaJogador) {
        pontosIA++;
        adicionarLog("Computador ganhou a rodada!");
      } else {
        adicionarLog("Empate na rodada!");
      }
      
      atualizarPlacar();
      
      // Verificar fim da rodada
      if (rodada >= 3 || maoJogador.length === 0 || maoIA.length === 0) {
        finalizarPartida();
      } else {
        rodada++;
        document.getElementById('rodada-atual').textContent = rodada;
        cartaJogador = null;
        cartaIA = null;
        document.getElementById('carta-ia-jogada').innerHTML = '';
        document.getElementById('carta-jogador-jogada').innerHTML = '';
        adicionarLog(`Rodada ${rodada} - Sua vez.`);
      }
    }

    function finalizarPartida() {
      let vencedor = '';
      let pontosGanhos = trucoAtivo ? valorTruco : 1;
      
      if (pontosJogador > pontosIA) {
        vencedor = 'Você';
        adicionarLog(`Você ganhou a partida! +${pontosGanhos} pontos`);
      } else if (pontosIA > pontosJogador) {
        vencedor = 'Computador';
        adicionarLog(`Computador ganhou a partida! +${pontosGanhos} pontos`);
      } else {
        vencedor = 'Empate';
        adicionarLog(`Partida empatada!`);
      }
      
      // Desabilitar ações
      document.getElementById('btn-jogar').disabled = true;
      document.getElementById('btn-truco').disabled = true;
      document.getElementById('btn-envido').disabled = true;
    }

    // ========== TRUCO ==========
    function pedirTruco() {
      trucoAtivo = true;
      valorTruco = valorTruco === 2 ? 4 : valorTruco + 2;
      adicionarLog(`Você pediu TRUCO (${valorTruco} pontos)!`);
      
      // Desabilitar truco até resposta
      document.getElementById('btn-truco').disabled = true;
      document.getElementById('btn-envido').disabled = true;
      
      // Mostrar opções de resposta
      document.getElementById('btn-aceitar').disabled = false;
      document.getElementById('btn-rejeitar').disabled = false;
      
      // IA decide se aceita
      setTimeout(() => {
        const aceitar = iaDecidirRespostaTruco();
        
        if (aceitar) {
          adicionarLog("Computador aceitou o truco!");
        } else {
          adicionarLog("Computador fugiu! Você ganhou os pontos.");
          pontosJogador += valorTruco;
          finalizarPartida();
        }
      }, 1000);
    }

    function iaDecidirRespostaTruco() {
      // Baseado na dificuldade e força da mão
      const forcaMao = calcularForcaMaoIA();
      let chanceAceitar = 0.5; // Base
      
      // Ajusta pela dificuldade
      if (dificuldade === 'facil') chanceAceitar = 0.3;
      else if (dificuldade === 'medio') chanceAceitar = 0.6;
      else chanceAceitar = 0.8;
      
      // Ajusta pela força da mão
      if (forcaMao > 2) chanceAceitar += 0.2;
      else if (forcaMao < 1) chanceAceitar -= 0.2;
      
      return Math.random() < chanceAceitar;
    }

    function calcularForcaMaoIA() {
      // Calcula força da mão (0-3)
      let forca = 0;
      
      // 1 ponto por manilha
      forca += maoIA.filter(c => c[0] === manilha[0]).length;
      
      // 0.5 ponto por carta forte (A, 2, 3)
      forca += maoIA.filter(c => ['A', '2', '3'].includes(c[0])).length * 0.5;
      
      return forca;
    }

    function responderTruco(aceitar) {
      if (aceitar) {
        adicionarLog(`Você aceitou o truco (${valorTruco} pontos)!`);
      } else {
        adicionarLog("Você fugiu! Computador ganhou os pontos.");
        pontosIA += valorTruco;
        finalizarPartida();
      }
      
      // Esconder botões de resposta
      document.getElementById('btn-aceitar').disabled = true;
      document.getElementById('btn-rejeitar').disabled = true;
    }

    // ========== ENVIDO ==========
    function pedirEnvido() {
      envidoAtivo = true;
      jogadorPediuEnvido = true;
      adicionarLog(`Você pediu ENVIDO (${valorEnvido} pontos)!`);
      
      // Desabilitar envido até resposta
      document.getElementById('btn-envido').disabled = true;
      document.getElementById('btn-truco').disabled = true;
      
      // Mostrar opções de resposta
      document.getElementById('btn-aceitar').disabled = false;
      document.getElementById('btn-rejeitar').disabled = false;
      
      // IA decide se aceita
      setTimeout(() => {
        const aceitar = iaDecidirRespostaEnvido();
        
        if (aceitar) {
          adicionarLog("Computador aceitou o envido!");
          compararEnvido();
        } else {
          adicionarLog("Computador não quis o envido. Você ganhou 1 ponto.");
          pontosJogador += 1;
          atualizarPlacar();
        }
      }, 1000);
    }

    function iaPedirEnvido() {
      if (envidoAtivo || jogadorPediuEnvido) return;
      
      iaPediuEnvido = true;
      envidoAtivo = true;
      valorEnvido = 2;
      adicionarLog(`Computador pediu ENVIDO (${valorEnvido} pontos)!`);
      
      // Mostrar opções de resposta
      document.getElementById('btn-aceitar').disabled = false;
      document.getElementById('btn-rejeitar').disabled = false;
      document.getElementById('btn-envido').disabled = true;
      document.getElementById('btn-truco').disabled = true;
    }

    function iaDecidirRespostaEnvido() {
      // Baseado na dificuldade e força do envido
      const pontosIA = calcularPontosEnvido(maoIA);
      const pontosJogadorEstimado = 15; // Estimativa média
      
      let chanceAceitar = 0.5; // Base
      
      // Ajusta pela dificuldade
      if (dificuldade === 'facil') chanceAceitar = 0.6;
      else if (dificuldade === 'medio') chanceAceitar = pontosIA > 20 ? 0.8 : 0.4;
      else chanceAceitar = pontosIA > pontosJogadorEstimado ? 0.9 : 0.3;
      
      return Math.random() < chanceAceitar;
    }

    function calcularPontosEnvido(mao) {
      // Calcula pontos de envido (melhor combinação de 2 cartas do mesmo naipe)
      const naipes = {};
      
      // Agrupa cartas por naipe
      mao.forEach(carta => {
        const naipe = carta[1];
        if (!naipes[naipe]) naipes[naipe] = [];
        naipes[naipe].push(PONTOS_ENVIDO[carta[0]]);
      });
      
      // Calcula a melhor combinação
      let maxPontos = 0;
      for (const naipe in naipes) {
        if (naipes[naipe].length >= 2) {
          // Pega as 2 maiores cartas do naipe
          const pontos = naipes[naipe]
            .sort((a, b) => b - a)
            .slice(0, 2)
            .reduce((sum, val) => sum + val, 0) + 20;
          
          if (pontos > maxPontos) maxPontos = pontos;
        }
      }
      
      // Se não tem 2 do mesmo naipe, pega a maior carta
      if (maxPontos === 0 && mao.length > 0) {
        maxPontos = Math.max(...mao.map(c => PONTOS_ENVIDO[c[0]]));
      }
      
      return maxPontos;
    }

    function compararEnvido() {
      const pontosJogador = calcularPontosEnvido(maoJogador);
      const pontosIA = calcularPontosEnvido(maoIA);
      
      adicionarLog(`Seus pontos: ${pontosJogador} | IA: ${pontosIA}`);
      
      if (pontosJogador > pontosIA) {
        adicionarLog(`Você ganhou o envido! +${valorEnvido} pontos`);
        pontosJogador += valorEnvido;
      } else if (pontosIA > pontosJogador) {
        adicionarLog(`Computador ganhou o envido! +${valorEnvido} pontos`);
        pontosIA += valorEnvido;
      } else {
        adicionarLog("Empate no envido! Ninguém ganha pontos.");
      }
      
      atualizarPlacar();
      envidoAtivo = false;
      
      // Esconder botões de resposta
      document.getElementById('btn-aceitar').disabled = true;
      document.getElementById('btn-rejeitar').disabled = true;
      
      // Reativar outros botões se necessário
      if (!trucoAtivo) {
        document.getElementById('btn-truco').disabled = false;
        document.getElementById('btn-envido').disabled = false;
      }
    }

    // ========== INTERFACE ==========
    function mostrarMaoJogador() {
      const container = document.getElementById('mao-jogador');
      container.innerHTML = '';
      
      maoJogador.forEach((carta, idx) => {
        const divCarta = document.createElement('div');
        divCarta.className = 'carta';
        divCarta.textContent = carta[0] + carta[1];
        divCarta.onclick = () => selecionarCarta(idx);
        
        // Destacar manilhas
        if (carta[0] === manilha[0]) {
          divCarta.classList.add('manilha');
        }
        
        // Mostrar valor do envido
        const spanValor = document.createElement('span');
        spanValor.className = 'carta-valor';
        spanValor.textContent = PONTOS_ENVIDO[carta[0]];
        divCarta.appendChild(spanValor);
        
        container.appendChild(divCarta);
      });
    }

    function mostrarMaoIA() {
      const container = document.getElementById('mao-ia');
      container.innerHTML = '';
      
      // Mostrar cartas viradas
      maoIA.forEach(() => {
        const divCarta = document.createElement('div');
        divCarta.className = 'carta carta-virada';
        divCarta.textContent = '🂠';
        container.appendChild(divCarta);
      });
      
      // Mostrar dificuldade
      const dificuldadeTag = document.createElement('div');
      dificuldadeTag.className = 'dificuldade-tag';
      dificuldadeTag.textContent = dificuldade.toUpperCase();
      container.appendChild(dificuldadeTag);
    }

    function mostrarCartaJogada(jogador, carta) {
      const container = document.getElementById(jogador === 'ia' ? 'carta-ia-jogada' : 'carta-jogador-jogada');
      container.innerHTML = '';
      
      const divCarta = document.createElement('div');
      divCarta.className = 'carta carta-jogada';
      divCarta.textContent = carta[0] + carta[1];
      
      // Animação
      divCarta.classList.add('carta-jogando');
      setTimeout(() => divCarta.classList.remove('carta-jogando'), 500);
      
      // Destacar manilhas
      if (carta[0] === manilha[0]) {
        divCarta.classList.add('manilha');
      }
      
      container.appendChild(divCarta);
    }

    function selecionarCarta(idx) {
      // Desselecionar todas
      document.querySelectorAll('#mao-jogador .carta').forEach(c => {
        c.classList.remove('selecionada');
      });
      
      // Selecionar nova carta
      cartaSelecionada = idx;
      document.querySelectorAll('#mao-jogador .carta')[idx].classList.add('selecionada');
      document.getElementById('btn-jogar').disabled = false;
    }

    function jogarCartaSelecionada() {
      if (cartaSelecionada !== null) {
        jogarCarta('jogador', cartaSelecionada);
        cartaSelecionada = null;
        document.getElementById('btn-jogar').disabled = true;
      }
    }

    function atualizarPlacar() {
      document.getElementById('pontos-jogador').textContent = pontosJogador;
      document.getElementById('pontos-ia').textContent = pontosIA;
    }

    function adicionarLog(mensagem) {
      const log = document.getElementById('log');
      const entry = document.createElement('div');
      entry.className = 'log-entry';
      entry.textContent = mensagem;
      log.appendChild(entry);
      log.scrollTop = log.scrollHeight;
    }

    function limparLog() {
      document.getElementById('log').innerHTML = '';
    }
  </script>
</body>
</html>