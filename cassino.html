<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Match Score - Cassino</title>
  <link rel="icon" href="imagens/loguinho.png" type="image/png">
  <style>
    /* Reset e Vari√°veis */
    :root {
      --primary: #e81cff;
      --secondary: #40c9ff;
      --dark: #111;
      --dark-gray: #222;
      --medium-gray: #333;
      --light-gray: #ccc;
      --white: #fff;
      --success: #00bf63;
      --danger: #ff3860;
      --warning: #ffdd57;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      -webkit-tap-highlight-color: transparent;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
      background: var(--dark);
      color: var(--white);
      line-height: 1.5;
      min-height: 100vh;
    }

    /* Header */
    .app-header {
      background: var(--dark-gray);
      padding: 12px 16px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: 0 2px 10px rgba(0,0,0,0.3);
    }

    .logo {
      height: 36px;
    }

    .logo img {
      height: 100%;
      max-width: 120px;
    }

    /* Bot√µes */
    .btn {
      padding: 8px 12px;
      border-radius: 8px;
      font-weight: 600;
      font-size: 14px;
      border: none;
      cursor: pointer;
      transition: all 0.2s ease;
      display: inline-flex;
      align-items: center;
      justify-content: center;
    }

    .btn-back {
      background: none;
      color: var(--text);
      margin-right: 8px;
    }

    /* Conte√∫do Principal */
    .main-content {
      padding: 16px;
    }

    /* Se√ß√µes */
    .section {
      background: var(--medium-gray);
      border-radius: 12px;
      padding: 16px;
      margin-bottom: 20px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.2);
    }

    .section-title {
      margin-bottom: 12px;
      font-size: 18px;
    }

    /* Cart√£o de Saldo */
    .balance-card {
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      color: white;
      padding: 16px;
      border-radius: 12px;
      margin-bottom: 20px;
      box-shadow: 0 4px 15px rgba(232, 28, 255, 0.3);
    }

    .balance-amount {
      font-size: 28px;
      font-weight: bold;
      margin: 8px 0;
    }

    .balance-actions {
      display: flex;
      gap: 10px;
      margin-top: 12px;
    }

    .balance-btn {
      flex: 1;
      padding: 8px;
      border-radius: 8px;
      border: none;
      font-weight: 600;
      cursor: pointer;
    }

    .deposit-btn {
      background: var(--success);
      color: white;
    }

    .withdraw-btn {
      background: var(--danger);
      color: white;
    }

    /* Grid de Jogos */
    .games-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
      gap: 16px;
      margin-top: 16px;
    }

    .game-card {
      background: var(--dark-gray);
      border-radius: 12px;
      padding: 12px;
      text-align: center;
      cursor: pointer;
      transition: transform 0.2s, box-shadow 0.2s;
    }

    .game-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    }

    .game-icon {
      width: 60px;
      height: 60px;
      margin: 0 auto 8px;
      background: var(--medium-gray);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
    }

    .game-name {
      font-weight: 600;
      margin-bottom: 4px;
    }

    .game-description {
      font-size: 12px;
      color: var(--light-gray);
    }

    /* Jogo de Roleta */
    .roulette-container {
      display: none;
      margin-top: 20px;
    }

    .roulette-wheel {
      width: 300px;
      height: 300px;
      margin: 0 auto;
      position: relative;
      border-radius: 50%;
      background: #1a1a1a;
      overflow: hidden;
    }

    .roulette-ball {
      width: 20px;
      height: 20px;
      background: white;
      border-radius: 50%;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      z-index: 10;
    }

    .roulette-number {
      position: absolute;
      width: 50%;
      height: 50%;
      transform-origin: 100% 100%;
      left: 50%;
      top: 0;
      text-align: center;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
    }

    .roulette-buttons {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin-top: 20px;
    }

    /* Jogo de Ca√ßa-N√≠queis */
    .slots-container {
      display: none;
      margin-top: 20px;
    }

    .slots-machine {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin-bottom: 20px;
    }

    .slot-reel {
      width: 80px;
      height: 120px;
      background: white;
      border-radius: 8px;
      overflow: hidden;
      position: relative;
    }

    .slot-symbol {
      width: 100%;
      height: 120px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 40px;
      position: absolute;
    }

    .slots-controls {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 10px;
    }

    /* Jogo de Blackjack */
    .blackjack-container {
      display: none;
      margin-top: 20px;
    }

    .blackjack-table {
      background: var(--dark-gray);
      border-radius: 12px;
      padding: 16px;
      margin: 20px 0;
    }

    .dealer-hand, .player-hand {
      margin-bottom: 20px;
    }

    .cards {
      display: flex;
      gap: 10px;
      margin: 10px 0;
      min-height: 80px;
    }

    .card {
      width: 60px;
      height: 80px;
      background: white;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: black;
      font-weight: bold;
    }

    .total {
      font-weight: bold;
      font-size: 18px;
    }

    .blackjack-actions, .blackjack-game-actions {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin-top: 20px;
    }

    /* Jogo de Dados */
    .dice-container {
      display: none;
      margin-top: 20px;
    }

    .dice-results {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin: 20px 0;
    }

    .dice {
      font-size: 60px;
      animation: diceRoll 1s;
    }

    @keyframes diceRoll {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    .dice-buttons {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
      margin-top: 20px;
    }

    /* Controles comuns */
    .bet-amount {
      display: flex;
      justify-content: center;
      margin: 15px 0;
    }

    .bet-amount input {
      width: 100px;
      padding: 8px;
      border-radius: 8px;
      border: none;
      text-align: center;
      background: var(--medium-gray);
      color: var(--text);
    }

    .spin-btn {
      padding: 12px 24px;
      background: var(--primary);
      color: white;
      border: none;
      border-radius: 8px;
      font-weight: bold;
      cursor: pointer;
      font-size: 16px;
    }

    /* Media Queries */
    @media (max-width: 768px) {
      .games-grid {
        grid-template-columns: repeat(2, 1fr);
      }
      
      .roulette-wheel {
        width: 250px;
        height: 250px;
      }
      
      .blackjack-actions, .blackjack-game-actions {
        flex-wrap: wrap;
      }
    }
  </style>
</head>
<body>
  <!-- Cabe√ßalho -->
  <header class="app-header">
    <button class="btn btn-back" onclick="window.history.back()">‚Üê Voltar</button>
    
    <div class="logo">
      <img src="imagens/loguinho.png" alt="Match Score">
    </div>
    
    <div style="width: 60px;"> <!-- Espa√ßo para alinhar -->
    </div>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
  </header>

  <!-- Conte√∫do Principal -->
  <main class="main-content">
    <section class="section">
      <h1 class="section-title">Cassino Match Score</h1>
      
      <div class="balance-card">
        <div>Seu Saldo</div>
        <div class="balance-amount" id="balance-amount">R$ 1.000,00</div>
        <div class="balance-actions">
          <button class="balance-btn deposit-btn" onclick="openModal('depositModal')">Depositar</button>
          <button class="balance-btn withdraw-btn" onclick="openModal('withdrawModal')">Sacar</button>
        </div>
      </div>
      
      <h3>Escolha seu jogo</h3>
      <div class="games-grid">
        <div class="game-card" onclick="startGame('roulette')">
          <div class="game-icon">üé°</div>
          <div class="game-name">Roleta</div>
          <div class="game-description">Aposte em n√∫meros ou cores</div>
        </div>
        
        <div class="game-card" onclick="startGame('slots')">
          <div class="game-icon">üé∞</div>
          <div class="game-name">Ca√ßa-N√≠queis</div>
          <div class="game-description">Gire os rolos e tente a sorte</div>
        </div>
        
        <div class="game-card" onclick="startGame('blackjack')">
          <div class="game-icon">üÉè</div>
          <div class="game-name">Blackjack</div>
          <div class="game-description">Ven√ßa o dealer sem ultrapassar 21</div>
        </div>
        
        <div class="game-card" onclick="startGame('dice')">
          <div class="game-icon">üé≤</div>
          <div class="game-name">Dados</div>
          <div class="game-description">Aposte no resultado dos dados</div>
        </div>
      </div>
      
      <!-- Jogo de Roleta -->
      <div id="roulette-container" class="roulette-container">
        <h3>Roleta</h3>
        <div class="roulette-wheel" id="roulette-wheel">
          <div class="roulette-ball"></div>
        </div>
        
        <div class="bet-amount">
          <input type="number" id="roulette-bet" min="10" max="1000" value="50" step="10">
        </div>
        
        <div class="roulette-buttons">
          <button class="btn" style="background: var(--danger);" onclick="placeRouletteBet('red')">Vermelho (2x)</button>
          <button class="btn" style="background: black; color: white;" onclick="placeRouletteBet('black')">Preto (2x)</button>
          <button class="btn" style="background: var(--success);" onclick="placeRouletteBet('green')">0 (14x)</button>
        </div>
      </div>
      
      <!-- Jogo de Ca√ßa-N√≠queis -->
      <div id="slots-container" class="slots-container">
        <h3>Ca√ßa-N√≠queis</h3>
        <div class="slots-machine" id="slots-machine">
          <div class="slot-reel" id="reel1">
            <div class="slot-symbol">üçí</div>
          </div>
          <div class="slot-reel" id="reel2">
            <div class="slot-symbol">üçã</div>
          </div>
          <div class="slot-reel" id="reel3">
            <div class="slot-symbol">üçä</div>
          </div>
        </div>
        
        <div class="bet-amount">
          <input type="number" id="slots-bet" min="10" max="500" value="20" step="10">
        </div>
        
        <div class="slots-controls">
          <button class="spin-btn" onclick="spinSlots()">Girar</button>
        </div>
      </div>
      
      <!-- Jogo de Blackjack -->
      <div id="blackjack-container" class="blackjack-container">
        <h3>Blackjack</h3>
        
        <div class="bet-amount">
          <input type="number" id="blackjack-bet" min="10" max="1000" value="50" step="10">
        </div>
        
        <div class="blackjack-table">
          <div class="dealer-hand" id="dealer-hand">
            <h4>Dealer</h4>
            <div class="cards" id="dealer-cards"></div>
            <div class="total" id="dealer-total"></div>
          </div>
          
          <div class="player-hand" id="player-hand">
            <h4>Voc√™</h4>
            <div class="cards" id="player-cards"></div>
            <div class="total" id="player-total"></div>
          </div>
        </div>
        
        <div class="blackjack-actions" id="blackjack-actions">
          <button class="btn" onclick="placeBlackjackBet()">Apostar</button>
        </div>
        
        <div class="blackjack-game-actions" id="blackjack-game-actions" style="display: none;">
          <button class="btn" onclick="blackjackHit()">Pedir Carta</button>
          <button class="btn" onclick="blackjackStand()">Parar</button>
          <button class="btn" onclick="blackjackDouble()">Dobrar</button>
        </div>
      </div>
      
      <!-- Jogo de Dados -->
      <div id="dice-container" class="dice-container">
        <h3>Jogo de Dados</h3>
        
        <div class="bet-amount">
          <input type="number" id="dice-bet" min="10" max="1000" value="50" step="10">
        </div>
        
        <div class="dice-results">
          <div class="dice" id="dice1">üé≤</div>
          <div class="dice" id="dice2">üé≤</div>
        </div>
        
        <div class="dice-buttons">
          <button class="btn" onclick="placeDiceBet('high')">Alto (7-12)</button>
          <button class="btn" onclick="placeDiceBet('low')">Baixo (1-6)</button>
          <button class="btn" onclick="placeDiceBet('even')">Par</button>
          <button class="btn" onclick="placeDiceBet('odd')">√çmpar</button>
        </div>
      </div>
    </section>
  </main>

  <!-- Modal Dep√≥sito -->
  <div id="depositModal" style="display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: var(--dark-gray); padding: 20px; border-radius: 12px; z-index: 1000; max-width: 90%; width: 400px;">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
      <h3>Depositar</h3>
      <button onclick="closeModal()" style="background: none; border: none; color: var(--primary); font-size: 24px; cursor: pointer;">√ó</button>
    </div>
    
    <div>
      <div style="margin-bottom: 16px;">
        <label style="display: block; margin-bottom: 8px;">Valor</label>
        <input type="number" id="deposit-amount" min="10" style="width: 100%; padding: 8px; border-radius: 8px; border: none; background: var(--medium-gray); color: var(--text);">
      </div>
      
      <div style="margin-bottom: 16px;">
        <label style="display: block; margin-bottom: 8px;">M√©todo de Pagamento</label>
        <select style="width: 100%; padding: 8px; border-radius: 8px; border: none; background: var(--medium-gray); color: var(--text);">
          <option>Pix</option>
          <option>Cart√£o de Cr√©dito</option>
          <option>Boleto</option>
        </select>
      </div>
      
      <button class="btn" style="background: var(--success); width: 100%;" onclick="depositFunds()">
        Confirmar Dep√≥sito
      </button>
      
    </div>
  </div>

  <!-- Modal Saque -->
  <div id="withdrawModal" style="display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: var(--dark-gray); padding: 20px; border-radius: 12px; z-index: 1000; max-width: 90%; width: 400px;">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
      <h3>Sacar</h3>
      <button onclick="closeModal()" style="background: none; border: none; color: var(--primary); font-size: 24px; cursor: pointer;">√ó</button>
    </div>
    
    <div>
      <div style="margin-bottom: 16px;">
        <label style="display: block; margin-bottom: 8px;">Valor</label>
        <input type="number" id="withdraw-amount" min="10" style="width: 100%; padding: 8px; border-radius: 8px; border: none; background: var(--medium-gray); color: var(--text);">
      </div>
      
      <div style="margin-bottom: 16px;">
        <label style="display: block; margin-bottom: 8px;">M√©todo de Saque</label>
        <select style="width: 100%; padding: 8px; border-radius: 8px; border: none; background: var(--medium-gray); color: var(--text);">
          <option>Pix</option>
          <option>TED</option>
        </select>
      </div>
      
      <button class="btn" style="background: var(--danger); width: 100%;" onclick="withdrawFunds()">
        Confirmar Saque
      </button>
    </div>
  </div>

  <!-- Overlay -->
  <div id="overlay" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); z-index: 999;"></div>

  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

  <script>
    // Vari√°veis do jogo
    let userBalance = 1000;
    let currentGame = null;
    
    // Vari√°veis para Blackjack
    let blackjackGame = null;
    let playerHand = [];
    let dealerHand = [];
    let blackjackBet = 0;
    
    // Inicializa√ß√£o
    document.addEventListener('DOMContentLoaded', () => {
      updateBalance();
      setupRoulette();
    });
    
    // Atualiza o saldo na tela
    function updateBalance() {
      document.getElementById('balance-amount').textContent = 
        `R$ ${userBalance.toFixed(2).replace('.', ',')}`;
    }
    
    // Inicia um jogo
    function startGame(game) {
      hideAllGames();
      currentGame = game;
      
      switch(game) {
        case 'roulette':
          document.getElementById('roulette-container').style.display = 'block';
          break;
        case 'slots':
          document.getElementById('slots-container').style.display = 'block';
          break;
        case 'blackjack':
          document.getElementById('blackjack-container').style.display = 'block';
          initBlackjack();
          break;
        case 'dice':
          document.getElementById('dice-container').style.display = 'block';
          break;
      }
    }
    
    // Esconde todos os jogos
    function hideAllGames() {
      document.querySelectorAll('.roulette-container, .slots-container, .blackjack-container, .dice-container').forEach(el => {
        el.style.display = 'none';
      });
    }
    
    // Configura a roleta
    function setupRoulette() {
      const wheel = document.getElementById('roulette-wheel');
      wheel.innerHTML = '<div class="roulette-ball"></div>';
      
      const numbers = [
        { number: 0, color: 'green' },
        { number: 32, color: 'red' }, { number: 15, color: 'black' },
        { number: 19, color: 'red' }, { number: 4, color: 'black' },
        { number: 21, color: 'red' }, { number: 2, color: 'black' },
        { number: 25, color: 'red' }, { number: 17, color: 'black' },
        { number: 34, color: 'red' }, { number: 6, color: 'black' },
        { number: 27, color: 'red' }, { number: 13, color: 'black' },
        { number: 36, color: 'red' }, { number: 11, color: 'black' },
        { number: 30, color: 'red' }, { number: 8, color: 'black' },
        { number: 23, color: 'red' }, { number: 10, color: 'black' },
        { number: 5, color: 'red' }, { number: 24, color: 'black' },
        { number: 16, color: 'red' }, { number: 33, color: 'black' },
        { number: 1, color: 'red' }, { number: 20, color: 'black' },
        { number: 14, color: 'red' }, { number: 31, color: 'black' },
        { number: 9, color: 'red' }, { number: 22, color: 'black' },
        { number: 18, color: 'red' }, { number: 29, color: 'black' },
        { number: 7, color: 'red' }, { number: 28, color: 'black' },
        { number: 12, color: 'red' }, { number: 35, color: 'black' },
        { number: 3, color: 'red' }, { number: 26, color: 'black' }
      ];
      
      numbers.forEach((num, index) => {
        const numElement = document.createElement('div');
        numElement.className = 'roulette-number';
        numElement.textContent = num.number;
        numElement.style.transform = `rotate(${index * (360 / numbers.length)}deg)`;
        numElement.style.color = num.color === 'black' ? 'white' : 'black';
        numElement.style.backgroundColor = num.color;
        wheel.appendChild(numElement);
      });
    }
    
    // Faz uma aposta na roleta
    function placeRouletteBet(type) {
      const betAmount = parseInt(document.getElementById('roulette-bet').value);
      
      if (isNaN(betAmount)) {
        alert('Por favor, insira um valor v√°lido!');
        return;
      }
      
      if (betAmount > userBalance) {
        alert('Saldo insuficiente!');
        return;
      }
      
      userBalance -= betAmount;
      updateBalance();
      
      // Anima√ß√£o da roleta
      spinWheel(type, betAmount);
    }
    
    // Gira a roleta
    function spinWheel(betType, betAmount) {
      const wheel = document.getElementById('roulette-wheel');
      const ball = wheel.querySelector('.roulette-ball');
      
      // Anima√ß√£o
      const spins = 5 + Math.random() * 3; // 5-8 rota√ß√µes
      const duration = 5000; // 5 segundos
      const startTime = Date.now();
      
      function animate() {
        const elapsed = Date.now() - startTime;
        const progress = Math.min(elapsed / duration, 1);
        const rotation = spins * 360 * progress;
        
        wheel.style.transform = `rotate(${rotation}deg)`;
        ball.style.transform = `translate(-50%, -50%) rotate(${-rotation}deg)`;
        
        if (progress < 1) {
          requestAnimationFrame(animate);
        } else {
          // Determina o resultado
          const resultAngle = (spins * 360) % 360;
          const resultIndex = Math.floor(resultAngle / (360 / 37));
          const winningNumber = getWinningNumber(resultIndex);
          
          // Verifica se ganhou
          checkRouletteResult(betType, betAmount, winningNumber);
        }
      }
      
      animate();
    }
    
    // Retorna o n√∫mero vencedor baseado no √≠ndice
    function getWinningNumber(index) {
      const numbersOrder = [0, 32, 15, 19, 4, 21, 2, 25, 17, 34, 6, 27, 13, 36, 11, 30, 8, 23, 10, 5, 24, 16, 33, 1, 20, 14, 31, 9, 22, 18, 29, 7, 28, 12, 35, 3, 26];
      const winningNumber = numbersOrder[index];
      
      // Determina a cor
      let color;
      if (winningNumber === 0) {
        color = 'green';
      } else if ([1, 3, 5, 7, 9, 12, 14, 16, 18, 19, 21, 23, 25, 27, 30, 32, 34, 36].includes(winningNumber)) {
        color = 'red';
      } else {
        color = 'black';
      }
      
      return { number: winningNumber, color };
    }
    
    // Verifica o resultado da roleta
    function checkRouletteResult(betType, betAmount, winningNumber) {
      let multiplier = 0;
      
      if ((betType === 'red' && winningNumber.color === 'red') ||
          (betType === 'black' && winningNumber.color === 'black')) {
        multiplier = 2;
      } else if (betType === 'green' && winningNumber.number === 0) {
        multiplier = 14;
      }
      
      if (multiplier > 0) {
        const winnings = betAmount * multiplier;
        userBalance += winnings;
        updateBalance();
        alert(`Voc√™ ganhou! N√∫mero ${winningNumber.number} (${winningNumber.color}). Pr√™mio: R$ ${winnings.toFixed(2).replace('.', ',')}`);
      } else {
        alert(`Voc√™ perdeu! N√∫mero ${winningNumber.number} (${winningNumber.color})`);
      }
    }
    
    // Gira os slots
    function spinSlots() {
      const betAmount = parseInt(document.getElementById('slots-bet').value);
      
      if (isNaN(betAmount)) {
        alert('Por favor, insira um valor v√°lido!');
        return;
      }
      
      if (betAmount > userBalance) {
        alert('Saldo insuficiente!');
        return;
      }
      
      userBalance -= betAmount;
      updateBalance();
      
      const symbols = ['üçí', 'üçã', 'üçä', 'üçá', 'üîî', '‚≠ê', '7Ô∏è‚É£', 'üíé'];
      const reels = [
        document.getElementById('reel1'),
        document.getElementById('reel2'),
        document.getElementById('reel3')
      ];
      
      // Anima√ß√£o dos rolos
      reels.forEach((reel, index) => {
        reel.innerHTML = '';
        
        // Cria v√°rias c√≥pias dos s√≠mbolos para o efeito de rolagem
        for (let i = 0; i < 20; i++) {
          const symbol = document.createElement('div');
          symbol.className = 'slot-symbol';
          symbol.textContent = symbols[Math.floor(Math.random() * symbols.length)];
          symbol.style.top = `${i * 120}px`;
          reel.appendChild(symbol);
        }
        
        // Anima√ß√£o
        let position = -20 * 120;
        const startTime = Date.now();
        const duration = 2000 + index * 500; // Rolos param um ap√≥s o outro
        
        function animate() {
          const elapsed = Date.now() - startTime;
          const progress = Math.min(elapsed / duration, 1);
          
          if (progress < 1) {
            // Rolando
            position = -20 * 120 + progress * 25 * 120;
            reel.style.transform = `translateY(${position}px)`;
            requestAnimationFrame(animate);
          } else {
            // Parou - resultado final
            const resultIndex = Math.floor(Math.random() * symbols.length);
            reel.style.transform = `translateY(${-resultIndex * 120}px)`;
            reel.dataset.symbol = symbols[resultIndex];
            
            // Verifica se todos os rolos pararam
            if (index === 2) {
              checkSlotsResult(betAmount);
            }
          }
        }
        
        animate();
      });
    }
    
    // Verifica o resultado dos slots
    function checkSlotsResult(betAmount) {
      const reels = [
        document.getElementById('reel1'),
        document.getElementById('reel2'),
        document.getElementById('reel3')
      ];
      
      const symbols = reels.map(reel => reel.dataset.symbol);
      let winnings = 0;
      
      // Verifica combina√ß√µes
      if (symbols[0] === symbols[1] && symbols[1] === symbols[2]) {
        // Tr√™s iguais
        switch(symbols[0]) {
          case 'üíé': winnings = betAmount * 20; break;
          case '7Ô∏è‚É£': winnings = betAmount * 15; break;
          case '‚≠ê': winnings = betAmount * 10; break;
          case 'üîî': winnings = betAmount * 5; break;
          default: winnings = betAmount * 3;
        }
      } else if (symbols[0] === symbols[1] || symbols[1] === symbols[2] || symbols[0] === symbols[2]) {
        // Dois iguais
        winnings = betAmount * 2;
      }
      
      if (winnings > 0) {
        userBalance += winnings;
        updateBalance();
        alert(`Voc√™ ganhou R$ ${winnings.toFixed(2).replace('.', ',')}!`);
      } else {
        alert('Sem combina√ß√µes desta vez. Tente novamente!');
      }
    }
    
    // Inicializa o Blackjack
    function initBlackjack() {
      document.getElementById('blackjack-game-actions').style.display = 'none';
      document.getElementById('blackjack-actions').style.display = 'block';
      document.getElementById('dealer-cards').innerHTML = '';
      document.getElementById('player-cards').innerHTML = '';
      document.getElementById('dealer-total').textContent = '';
      document.getElementById('player-total').textContent = '';
    }
    
    // Faz aposta no Blackjack
    function placeBlackjackBet() {
      const betAmount = parseInt(document.getElementById('blackjack-bet').value);
      
      if (isNaN(betAmount)) {
        alert('Por favor, insira um valor v√°lido!');
        return;
      }
      
      if (betAmount > userBalance) {
        alert('Saldo insuficiente!');
        return;
      }
      
      userBalance -= betAmount;
      blackjackBet = betAmount;
      updateBalance();
      
      // Inicia o jogo
      startBlackjackGame();
    }
    
    // Come√ßa o jogo de Blackjack
    function startBlackjackGame() {
      playerHand = [];
      dealerHand = [];
      
      // Dar cartas iniciais
      playerHand.push(drawCard());
      dealerHand.push(drawCard());
      playerHand.push(drawCard());
      dealerHand.push(drawCard(true)); // Carta oculta
      
      updateBlackjackUI();
      
      // Mostrar a√ß√µes do jogo
      document.getElementById('blackjack-actions').style.display = 'none';
      document.getElementById('blackjack-game-actions').style.display = 'flex';
      
      // Verificar blackjack natural
      if (calculateHandValue(playerHand) === 21) {
        endBlackjackGame(true);
      }
    }
    
    // Puxa uma carta
    function drawCard(hidden = false) {
      const suits = ['‚ô†', '‚ô•', '‚ô¶', '‚ô£'];
      const values = ['A', '2', '3', '4', '5', '6', '7', '8', '9', '10', 'J', 'Q', 'K'];
      
      const suit = suits[Math.floor(Math.random() * suits.length)];
      const value = values[Math.floor(Math.random() * values.length)];
      
      return {
        suit,
        value,
        hidden
      };
    }
    
    // Atualiza a UI do Blackjack
    function updateBlackjackUI() {
      const dealerCardsEl = document.getElementById('dealer-cards');
      const playerCardsEl = document.getElementById('player-cards');
      const dealerTotalEl = document.getElementById('dealer-total');
      const playerTotalEl = document.getElementById('player-total');
      
      // Limpa as cartas
      dealerCardsEl.innerHTML = '';
      playerCardsEl.innerHTML = '';
      
      // Mostra cartas do dealer
      dealerHand.forEach(card => {
        const cardEl = document.createElement('div');
        cardEl.className = 'card';
        if (card.hidden) {
          cardEl.textContent = 'üÇ†';
          cardEl.style.background = 'var(--primary)';
        } else {
          cardEl.textContent = card.value + card.suit;
          cardEl.style.color = (card.suit === '‚ô•' || card.suit === '‚ô¶') ? 'red' : 'black';
        }
        dealerCardsEl.appendChild(cardEl);
      });
      
      // Mostra cartas do jogador
      playerHand.forEach(card => {
        const cardEl = document.createElement('div');
        cardEl.className = 'card';
        cardEl.textContent = card.value + card.suit;
        cardEl.style.color = (card.suit === '‚ô•' || card.suit === '‚ô¶') ? 'red' : 'black';
        playerCardsEl.appendChild(cardEl);
      });
      
      // Calcula e mostra totais
      const dealerValue = calculateHandValue(dealerHand.filter(card => !card.hidden));
      const playerValue = calculateHandValue(playerHand);
      
      dealerTotalEl.textContent = `Total: ${dealerHand.some(card => card.hidden) ? '?' : dealerValue}`;
      playerTotalEl.textContent = `Total: ${playerValue}`;
      
      // Verifica se estourou
      if (playerValue > 21) {
        endBlackjackGame(false);
      }
    }
    
    // Calcula valor da m√£o
    function calculateHandValue(hand) {
      let value = 0;
      let aces = 0;
      
      hand.forEach(card => {
        if (card.hidden) return;
        
        if (card.value === 'A') {
          value += 11;
          aces++;
        } else if (['K', 'Q', 'J'].includes(card.value)) {
          value += 10;
        } else {
          value += parseInt(card.value);
        }
      });
      
      // Ajusta valores de Ases se necess√°rio
      while (value > 21 && aces > 0) {
        value -= 10;
        aces--;
      }
      
      return value;
    }
    
    // A√ß√µes do Blackjack
    function blackjackHit() {
      playerHand.push(drawCard());
      updateBlackjackUI();
    }
    
    function blackjackStand() {
      // Revela carta oculta do dealer
      dealerHand.forEach(card => card.hidden = false);
      
      // Dealer puxa cartas at√© ter 17 ou mais
      while (calculateHandValue(dealerHand) < 17) {
        dealerHand.push(drawCard());
      }
      
      updateBlackjackUI();
      endBlackjackGame();
    }
    
    function blackjackDouble() {
      if (userBalance < blackjackBet) {
        alert('Saldo insuficiente para dobrar!');
        return;
      }
      
      userBalance -= blackjackBet;
      blackjackBet *= 2;
      updateBalance();
      
      playerHand.push(drawCard());
      updateBlackjackUI();
      blackjackStand();
    }
    
    // Finaliza o jogo de Blackjack
    function endBlackjackGame(hasNaturalBlackjack = false) {
      const dealerValue = calculateHandValue(dealerHand);
      const playerValue = calculateHandValue(playerHand);
      
      let message = '';
      let winnings = 0;
      
      if (hasNaturalBlackjack && playerValue === 21) {
        // Blackjack natural paga 3:2
        winnings = blackjackBet * 2.5;
        message = `Blackjack natural! Voc√™ ganhou R$ ${winnings.toFixed(2)}!`;
      } else if (playerValue > 21) {
        message = 'Voc√™ estourou! Perdeu a aposta.';
      } else if (dealerValue > 21) {
        winnings = blackjackBet * 2;
        message = `Dealer estourou! Voc√™ ganhou R$ ${winnings.toFixed(2)}!`;
      } else if (playerValue > dealerValue) {
        winnings = blackjackBet * 2;
        message = `Voc√™ ganhou! (${playerValue} vs ${dealerValue}). Pr√™mio: R$ ${winnings.toFixed(2)}!`;
      } else if (playerValue === dealerValue) {
        winnings = blackjackBet;
        message = `Empate! (${playerValue} vs ${dealerValue}). Voc√™ recebe sua aposta de volta.`;
      } else {
        message = `Voc√™ perdeu! (${playerValue} vs ${dealerValue}).`;
      }
      
      if (winnings > 0) {
        userBalance += winnings;
        updateBalance();
      }
      
      alert(message);
      initBlackjack();
    }
    
    // Jogo de Dados
    function placeDiceBet(type) {
      const betAmount = parseInt(document.getElementById('dice-bet').value);
      
      if (isNaN(betAmount)) {
        alert('Por favor, insira um valor v√°lido!');
        return;
      }
      
      if (betAmount > userBalance) {
        alert('Saldo insuficiente!');
        return;
      }
      
      userBalance -= betAmount;
      updateBalance();
      
      // Rola os dados
      rollDice(type, betAmount);
    }
    
    function rollDice(betType, betAmount) {
      const dice1 = document.getElementById('dice1');
      const dice2 = document.getElementById('dice2');
      
      // Anima√ß√£o
      let rolls = 0;
      const maxRolls = 10;
      const rollInterval = setInterval(() => {
        const value1 = Math.floor(Math.random() * 6) + 1;
        const value2 = Math.floor(Math.random() * 6) + 1;
        
        dice1.textContent = getDiceSymbol(value1);
        dice2.textContent = getDiceSymbol(value2);
        
        rolls++;
        if (rolls >= maxRolls) {
          clearInterval(rollInterval);
          checkDiceResult(betType, betAmount, value1, value2);
        }
      }, 100);
    }
    
    function getDiceSymbol(value) {
      const diceSymbols = ['‚öÄ', '‚öÅ', '‚öÇ', '‚öÉ', '‚öÑ', '‚öÖ'];
      return diceSymbols[value - 1];
    }
    
    function checkDiceResult(betType, betAmount, dice1, dice2) {
      const total = dice1 + dice2;
      let won = false;
      let multiplier = 1;
      
      switch(betType) {
        case 'high':
          won = total >= 7;
          multiplier = 1;
          break;
        case 'low':
          won = total <= 6;
          multiplier = 1;
          break;
        case 'even':
          won = total % 2 === 0;
          multiplier = 1;
          break;
        case 'odd':
          won = total % 2 !== 0;
          multiplier = 1;
          break;
      }
      
      if (won) {
        const winnings = betAmount * 2; // Pagamento 1:1
        userBalance += winnings;
        updateBalance();
        alert(`Voc√™ ganhou! Dados: ${dice1} + ${dice2} = ${total}. Pr√™mio: R$ ${winnings.toFixed(2)}`);
      } else {
        alert(`Voc√™ perdeu! Dados: ${dice1} + ${dice2} = ${total}`);
      }
    }
    
    // Abre modal
    function openModal(modalId) {
      document.getElementById(modalId).style.display = 'block';
      document.getElementById('overlay').style.display = 'block';
      document.body.style.overflow = 'hidden';
    }
    
    // Fecha os modais
    function closeModal() {
      document.getElementById('depositModal').style.display = 'none';
      document.getElementById('withdrawModal').style.display = 'none';
      document.getElementById('overlay').style.display = 'none';
      document.body.style.overflow = 'auto';
    }
    
    // Deposita fundos
function depositFunds() {
  const amount = parseFloat(document.getElementById('deposit-amount').value);
  
  if (isNaN(amount)) {
    Swal.fire({
      title: "Valor inv√°lido",
      text: "Por favor, insira um valor v√°lido!",
      icon: "error",
      draggable: true
    });
    return;
  }
  
  if (amount && amount > 0) {
    userBalance += amount;
    updateBalance();
    closeModal();
    
    // Mostra o alerta de sucesso
    Swal.fire({
      title: "Depositado com sucesso",
      text: `R$ ${amount.toFixed(2).replace('.', ',')} foram adicionados ao seu saldo!`,
      icon: "success",
      draggable: true,
      timer: 3000, // Fecha automaticamente ap√≥s 3 segundos
      timerProgressBar: true,
      showConfirmButton: false
    });
  } else {
    Swal.fire({
      title: "Valor inv√°lido",
      text: "Por favor, insira um valor maior que zero.",
      icon: "error",
      draggable: true
    });
  }
}

      
      if (amount && amount > 0) {
        userBalance += amount;
        updateBalance();
        closeModal();
        alert(`Dep√≥sito de R$ ${amount.toFixed(2).replace('.', ',')} realizado com sucesso!`);
      } else {
        alert('Por favor, insira um valor v√°lido.');
      }
    
    
    // Saca fundos
function withdrawFunds() {
  const amount = parseFloat(document.getElementById('withdraw-amount').value);
  
  if (isNaN(amount)) {
    Swal.fire({
      title: "Valor inv√°lido",
      text: "Por favor, insira um valor v√°lido!",
      icon: "error",
      draggable: true
    });
    return;
  }
  
  if (amount && amount > 0) {
    if (amount <= userBalance) {
      userBalance -= amount;
      updateBalance();
      closeModal();
      
      Swal.fire({
        title: "Saque realizado!",
        text: `R$ ${amount.toFixed(2).replace('.', ',')} ser√£o enviados para voc√™.`,
        icon: "success",
        draggable: true
      });
    } else {
      Swal.fire({
        title: "Saldo insuficiente",
        text: "Voc√™ n√£o tem saldo suficiente para este saque.",
        icon: "warning",
        draggable: true
      });
    }
  } else {
    Swal.fire({
      title: "Valor inv√°lido",
      text: "Por favor, insira um valor maior que zero.",
      icon: "error",
      draggable: true
    });
  }
}
    
    // Fechar ao clicar no overlay
    document.getElementById('overlay').addEventListener('click', closeModal);
  </script>
</body>
</html>